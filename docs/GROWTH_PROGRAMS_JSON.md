# Growth Programs JSON

This project supports import/export of growth programs in JSON format.

## Schema

```json
{
  "schema": "peristaltic.growth-programs",
  "schemaVersion": 1,
  "exportedAt": "2026-02-26T12:00:00.000Z",
  "programs": [
    {
      "id": "gh-floraseries-lettuce",
      "fertilizerId": "gh-floraseries",
      "fertilizerNameEn": "General Hydroponics FloraSeries",
      "fertilizerNameRu": "General Hydroponics FloraSeries",
      "plantId": "lettuce",
      "plantNameEn": "Lettuce",
      "plantNameRu": "Салат",
      "nameEn": "General Hydroponics FloraSeries / Lettuce",
      "nameRu": "General Hydroponics FloraSeries / Салат",
      "source": "General Hydroponics FloraSeries usage guide",
      "phases": [
        {
          "key": "seedling",
          "feedingsPerWeek": 2,
          "phAdjustmentsPerWeek": 2,
          "nutrients": { "a": 1.0, "b": 1.0, "c": 1.0 },
          "ph": { "plus": 0.28, "minus": 0.34 }
        }
      ]
    }
  ]
}
```

`nutrients.a/b/c` are ml per liter for:
- `a`: Nutrient A (brand-specific channel A)
- `b`: Nutrient B (brand-specific channel B)
- `c`: Nutrient C (brand-specific channel C)

`ph.plus/minus` are ml per 10 liters.

Optional metadata fields:
- `fertilizerId`, `fertilizerNameEn`, `fertilizerNameRu`
- `plantId`, `plantNameEn`, `plantNameRu`

## Versioning and migration

- Current version: `schemaVersion=1`.
- Import supports:
  - v1 payload (`schema` + `schemaVersion` + `programs`)
  - plain array of programs (legacy)
  - legacy map object keyed by profile id with `phases`.

Unsupported formats are rejected.

## Default catalog (generated by plant + fertilizer)

Built-in presets are generated as cross-product:
- 4 fertilizer types:
  - Aquatica TriPart
  - General Hydroponics FloraSeries
  - Advanced Nutrients pH Perfect G/M/B
  - FoxFarm Hydro Trio
- 15 plant types:
  - Universal
  - Lettuce
  - Basil
  - Spinach
  - Kale
  - Arugula
  - Mint
  - Parsley
  - Cilantro
  - Microgreens
  - Strawberry
  - Tomato
  - Cucumber
  - Pepper
  - Flowers

Total default profiles: 60.
